
# Hibernate Mapping Inheritance: @MappedSuperclass

## üìò –ß—Ç–æ —è –∏–∑—É—á–∞—é

–°–µ–π—á–∞—Å –∏–∑—É—á–∞—é —Ç–µ–º—É **–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ Hibernate**.  
–í–∏–¥–µ–æ ‚Äî –ø—Ä–æ `@MappedSuperclass` ("–ø–æ–º–µ—á–µ–Ω–Ω—ã–π —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å").

---

## üß† –ß—Ç–æ —è –ø–æ–Ω—è–ª:

- `@MappedSuperclass` ‚Äî —ç—Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≥–æ–≤–æ—Ä–∏—Ç Hibernate:  
  üëâ "–≠—Ç–æ—Ç –∫–ª–∞—Å—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â–∏–µ –ø–æ–ª—è –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, **–Ω–æ —Å–∞–º –Ω–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂—ë–Ω –∫–∞–∫ —Ç–∞–±–ª–∏—Ü–∞ –≤ –ë–î**"

- –ü–æ–ª—è —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ **–Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è** –¥—Ä—É–≥–∏–º–∏ `@Entity`, –∏ **–±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –≤ –∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö**

---

## üìå –ü—Ä–∏–º–µ—Ä:

```java
@MappedSuperclass
public class BaseEntity {
    @Id
    private Long id;

    private LocalDateTime createdAt;
}
```
# Hibernate Inheritance: SINGLE_TABLE

## üìò –ß—Ç–æ —è –∏–∑—É—á–∞—é

–ò–∑—É—á–∞—é —Ç–µ–º—É **–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ Hibernate**, –∞ –∏–º–µ–Ω–Ω–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é `SINGLE_TABLE`.

---

## üß† –ß—Ç–æ –ø–æ–Ω—è–ª:

- **`SINGLE_TABLE`** ‚Äî —ç—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ Hibernate, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ (–∫–ª–∞—Å—Å—ã) –∏–∑ –∏–µ—Ä–∞—Ä—Ö–∏–∏ **–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—É** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
- –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –≤—Å–µ –ø–æ–ª—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞, –Ω–æ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ –±—É–¥—É—Ç **–¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–ª—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –±—É–¥—É—Ç `NULL` –ø–æ–ª—è, –Ω–µ –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —ç—Ç–æ–º—É –∫–ª–∞—Å—Å—É).

---

## üìå –ü—Ä–∏–º–µ—Ä:

```java
@Entity
@Inheritance(strategy = InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name = "user_type")
public abstract class User {
    @Id
    private Long id;

    private String name;
}
```
## ‚öñÔ∏è –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ SINGLE_TABLE

### ‚ùå –ú–∏–Ω—É—Å—ã:
1. **NOT NULL –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è –Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ–ª—è**  
   –ù–∞–ø—Ä–∏–º–µ—Ä, `language` —É `Manager` –±—É–¥–µ—Ç –≤—Å–µ–≥–¥–∞ `NULL`, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç ‚Äî `teamSize` —É `Programmer`.  
   –ü–æ—ç—Ç–æ–º—É –Ω–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å `NOT NULL`, –∏–Ω–∞—á–µ –æ—à–∏–±–∫–∞.

2. **–°–ª–∞–±–∞—è —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**  
   –ö–æ–≥–¥–∞ —Ç—ã –∏—â–µ—à—å —Ç–æ–ª—å–∫–æ `Programmer`, Hibernate –¥–µ–ª–∞–µ—Ç `SELECT * FROM user WHERE user_type = 'Programmer'` ‚Äî  
   –Ω–æ —Ç–∞–±–ª–∏—Ü–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–æ–π –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤.

---

### ‚úÖ –ü–ª—é—Å—ã:
1. **–û–¥–∏–Ω `SELECT` ‚Äî –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞**  
   –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ: –∑–∞–ø—Ä–æ—Å ‚Äî –∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ. –ë—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ.

2. **–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `IDENTITY`**  
   –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ ‚Äî –æ–¥–∏–Ω —Å—á—ë—Ç—á–∏–∫ ID, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `GenerationType.IDENTITY`.

---

## üßæ –ò—Ç–æ–≥–∏:

`SINGLE_TABLE`:
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è, –±—ã—Å—Ç—Ä–∞—è, —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è
- ‚ùå –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî –º–Ω–æ–≥–æ `NULL`-–ø–æ–ª–µ–π
- ‚ö†Ô∏è –ü–æ–¥—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –∫–ª–∞—Å—Å—ã **–ø–æ—Ö–æ–∂–∏**, –∏ —Ä–∞–∑–ª–∏—á–∏–π –Ω–µ–º–Ω–æ–≥–æ





# Hibernate Inheritance: JOINED

## üìò –ß—Ç–æ —è –∏–∑—É—á–∞—é

–ü—Ä–æ–¥–æ–ª–∂–∞—é –∏–∑—É—á–∞—Ç—å **–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤ Hibernate**, –∏ —Å–µ–π—á–∞—Å —Ç–µ–º–∞ ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—è `JOINED`.

---

## üß† –ß—Ç–æ –ø–æ–Ω—è–ª:

- **`JOINED`** ‚Äî —ç—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π **—É –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –±—É–¥–µ—Ç —Å–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
- –¢–∞–±–ª–∏—Ü–∞ —Ä–æ–¥–∏—Ç–µ–ª—è —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â–∏–µ –ø–æ–ª—è, –∞ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ.
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ Hibernate –¥–µ–ª–∞–µ—Ç **`JOIN` –ø–æ `id`** –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏, —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –æ–±—ä–µ–∫—Ç.

---

## üìå –ü—Ä–∏–º–µ—Ä:

```java
@Entity
@Inheritance(strategy = InheritanceType.JOINED)
public abstract class User {
    @Id
    private Long id;

    private String name;
}

@Entity
public class Manager extends User {
    private String department;
}

@Entity
public class Programmer extends User {
    private String language;
}
```
‚öñÔ∏è –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ JOINED
‚úÖ –ü–ª—é—Å—ã:
–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
–ù–µ—Ç NULL-–ø–æ–ª–µ–π –¥–ª—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤.

–ì–∏–±–∫–æ—Å—Ç—å –≤ —Ä–∞–±–æ—Ç–µ —Å –ë–î
–ú–æ–∂–Ω–æ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –∏–Ω–¥–µ–∫—Å—ã, —Å–≤—è–∑–∏ –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤.

–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∏ —Ä–∞–∑–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
–ö–æ–≥–¥–∞ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –∏–º–µ—é—Ç –º–Ω–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π.

‚ùå –ú–∏–Ω—É—Å—ã:
–£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã
–ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, Programmer, Hibernate –¥–æ–ª–∂–µ–Ω —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É –∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã programmer, –∏ –∏–∑ user.

–°–ª–æ–∂–Ω–µ–µ –¥–µ–ª–∞—Ç—å SELECT –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞
–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, Programmer, –Ω—É–∂–µ–Ω INNER JOIN –º–µ–∂–¥—É user –∏ programmer.

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö User ‚Äî –Ω—É–∂–µ–Ω LEFT OUTER JOIN
Hibernate –¥–µ–ª–∞–µ—Ç LEFT JOIN –∫–æ –≤—Å–µ–º —Ç–∞–±–ª–∏—Ü–∞–º-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º, —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –ø–æ–ª–Ω—É—é –≤—ã–±–æ—Ä–∫—É –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

üßæ –ò—Ç–æ–≥–∏:
–ï—Å–ª–∏ –≤–∞–∂–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Å—Ç—Ä–æ–≥–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ –ë–î ‚Äî —Å—Ç–æ–∏—Ç –≤—ã–±–∏—Ä–∞—Ç—å JOINED.

–ï—Å–ª–∏ —Ç–∞–∫–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–µ—Ç –∏ —Ö–æ—á–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏ –±—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è ‚Äî –ø–æ–¥–æ–π–¥—ë—Ç SINGLE_TABLE.

üß† –ó–∞–ø–æ–º–Ω–∏:
JOINED = –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
SINGLE = –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
